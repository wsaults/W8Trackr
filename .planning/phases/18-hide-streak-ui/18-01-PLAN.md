---
phase: 18-hide-streak-ui
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - W8Trackr/Views/Dashboard/QuickStatsRow.swift
  - W8Trackr/Views/Dashboard/DashboardView.swift
  - W8Trackr/Managers/NotificationManager.swift
  - W8Trackr/Views/SettingsView.swift
autonomous: true

must_haves:
  truths:
    - "Streak card is not visible on dashboard"
    - "Streak warning notifications are not scheduled"
    - "Settings help text does not mention streak warnings"
    - "Streak calculation code is preserved for future use"
  artifacts:
    - path: "W8Trackr/Views/Dashboard/QuickStatsRow.swift"
      provides: "Quick stats without streak card"
      contains: "This Week"
    - path: "W8Trackr/Views/Dashboard/DashboardView.swift"
      provides: "Dashboard without streak property"
      min_lines: 200
    - path: "W8Trackr/Managers/NotificationManager.swift"
      provides: "Smart notifications without streak warnings"
      exports: ["NotificationManager"]
    - path: "W8Trackr/Views/SettingsView.swift"
      provides: "Settings with updated help text"
      contains: "milestone alerts"
  key_links:
    - from: "DashboardView.swift"
      to: "QuickStatsRow"
      via: "QuickStatsRow call without streak parameter"
      pattern: "QuickStatsRow\\(.*weeklyChange.*toGoal"
---

<objective>
Remove streak-related UI elements from the app for launch while preserving underlying code for future use.

Purpose: Simplify the launch experience by hiding unpolished streak features while keeping the calculation code intact for potential future re-enablement.

Output: Dashboard shows only "This Week" and "To Goal" cards, notifications exclude streak warnings, Settings help text updated.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/18-hide-streak-ui/18-RESEARCH.md

@W8Trackr/Views/Dashboard/QuickStatsRow.swift
@W8Trackr/Views/Dashboard/DashboardView.swift
@W8Trackr/Managers/NotificationManager.swift
@W8Trackr/Views/SettingsView.swift
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove streak from QuickStatsRow and DashboardView</name>
  <files>
    W8Trackr/Views/Dashboard/QuickStatsRow.swift
    W8Trackr/Views/Dashboard/DashboardView.swift
  </files>
  <action>
    In QuickStatsRow.swift:
    1. Remove `let streak: Int` property from struct (line 21)
    2. Remove entire streak card block from body (lines 28-35):
       ```swift
       // Streak card
       QuickStatCard(
           title: "Streak",
           value: "\(streak)",
           subtitle: streak == 1 ? "day" : "days",
           icon: "flame.fill",
           iconColor: streak >= 7 ? AppColors.warning : AppColors.secondary
       )
       ```
    3. Update doc comment (lines 13-19) to show new layout:
       ```swift
       /// Layout:
       /// ```
       /// ┌─────────┐ ┌─────────┐
       /// │This Week│ │ To Goal │
       /// │  -1.5   │ │  12.5   │
       /// │   lb    │ │   lb    │
       /// └─────────┘ └─────────┘
       /// ```
       ```
    4. Update all 4 previews to remove `streak:` parameter

    KEEP: The `calculateStreak(from:)` static function in the extension (lines 121-159) - this is preserved for future use.

    In DashboardView.swift:
    1. Remove `streak` computed property (lines 61-63):
       ```swift
       private var streak: Int {
           QuickStatsRow.calculateStreak(from: entries)
       }
       ```
    2. Update QuickStatsRow call (lines 158-163) to remove streak parameter:
       ```swift
       QuickStatsRow(
           weeklyChange: weeklyChange,
           toGoal: toGoal,
           weightUnit: preferredWeightUnit
       )
       ```
    3. Update doc comment (lines 20-21) to remove [Streak] from layout:
       ```swift
       /// │  Quick Stats Row                │
       /// │  [This Week] [To Goal]          │
       ```
  </action>
  <verify>
    Build succeeds: `xcodebuild -project W8Trackr.xcodeproj -scheme W8Trackr -configuration Debug -sdk iphonesimulator build 2>&1 | tail -5`

    Verify streak card removed: `grep -n "Streak" W8Trackr/Views/Dashboard/QuickStatsRow.swift` should only match doc comments and calculateStreak function, not QuickStatCard

    Verify streak param removed: `grep "streak:" W8Trackr/Views/Dashboard/*.swift` returns no matches
  </verify>
  <done>
    QuickStatsRow shows only "This Week" and "To Goal" cards.
    DashboardView no longer calculates or passes streak.
    Streak calculation code preserved in QuickStatsRow extension.
  </done>
</task>

<task type="auto">
  <name>Task 2: Disable streak notifications and update Settings text</name>
  <files>
    W8Trackr/Managers/NotificationManager.swift
    W8Trackr/Views/SettingsView.swift
  </files>
  <action>
    In NotificationManager.swift:
    1. Remove the streak warning scheduling block (lines 167-171):
       ```swift
       // Schedule streak warning if needed
       let (shouldWarn, streak) = NotificationScheduler.shouldSendStreakWarning(entries: entries)
       if shouldWarn {
           NotificationScheduler.scheduleStreakWarning(streak: streak)
       }
       ```
    2. Update the doc comment for updateSmartNotifications (lines 143-149) to remove "Streak warning" from the list:
       ```swift
       /// Call this after adding or editing weight entries to refresh:
       /// - Suggested optimal reminder time (based on logging patterns)
       /// - Milestone notification (if close to a weight milestone)
       /// - Weekly summary (progress recap)
       ```

    KEEP: All streak-related functions in NotificationScheduler.swift (calculateStreak, shouldSendStreakWarning, scheduleStreakWarning) - these are preserved for future use.

    In SettingsView.swift:
    1. Update the smart reminders footer text (line 325) to remove "streak warnings, ":
       FROM: "Get personalized notifications including streak warnings, milestone alerts, and weekly summaries based on your logging habits."
       TO: "Get personalized notifications including milestone alerts and weekly summaries based on your logging habits."
  </action>
  <verify>
    Build succeeds: `xcodebuild -project W8Trackr.xcodeproj -scheme W8Trackr -configuration Debug -sdk iphonesimulator build 2>&1 | tail -5`

    Verify streak scheduling removed from NotificationManager: `grep -n "streakWarning\|shouldSendStreakWarning" W8Trackr/Managers/NotificationManager.swift` returns no matches

    Verify Settings text updated: `grep -n "streak" W8Trackr/Views/SettingsView.swift` returns no matches

    Verify streak code preserved in NotificationScheduler: `grep -c "scheduleStreakWarning" W8Trackr/Managers/NotificationScheduler.swift` returns 1 or more
  </verify>
  <done>
    Streak warning notifications no longer scheduled.
    Settings help text no longer mentions streak warnings.
    Streak-related code preserved in NotificationScheduler for future use.
  </done>
</task>

</tasks>

<verification>
1. Build verification:
   ```bash
   xcodebuild -project W8Trackr.xcodeproj -scheme W8Trackr -configuration Debug -sdk iphonesimulator build
   ```

2. Test suite passes:
   ```bash
   xcodebuild -project W8Trackr.xcodeproj -scheme W8Trackr -sdk iphonesimulator test
   ```

3. SwiftLint passes:
   ```bash
   swiftlint lint --quiet
   ```

4. Preserved code verification:
   - QuickStatsRow.calculateStreak(from:) still exists
   - NotificationScheduler streak functions still exist
   - NotificationTests streak tests still pass
</verification>

<success_criteria>
1. Dashboard QuickStatsRow displays only "This Week" and "To Goal" cards (no streak card)
2. No streak-related parameters in QuickStatsRow or DashboardView
3. NotificationManager.updateSmartNotifications no longer schedules streak warnings
4. SettingsView help text does not mention "streak warnings"
5. All streak calculation code preserved (QuickStatsRow.calculateStreak, NotificationScheduler streak functions)
6. Build succeeds with zero errors
7. All existing tests pass
</success_criteria>

<output>
After completion, create `.planning/phases/18-hide-streak-ui/18-01-SUMMARY.md`
</output>
