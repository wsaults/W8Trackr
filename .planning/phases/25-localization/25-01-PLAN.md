---
phase: 25-localization
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - W8Trackr/Localizable.xcstrings
autonomous: true
user_setup: []

must_haves:
  truths:
    - "All UI text in main app displays in Spanish when device language is Spanish"
    - "String Catalog contains both English (source) and Spanish translations"
    - "SwiftUI Text() views auto-localize without code changes"
  artifacts:
    - path: "W8Trackr/Localizable.xcstrings"
      provides: "String catalog with English and Spanish translations"
      contains: "sourceLanguage.*en"
  key_links:
    - from: "W8Trackr/Views/*.swift"
      to: "W8Trackr/Localizable.xcstrings"
      via: "SwiftUI automatic string extraction"
      pattern: 'Text\("'
---

<objective>
Create String Catalog infrastructure and translate all main app strings to Spanish.

Purpose: Enable Spanish-speaking users to use the app in their native language (LOCL-01)
Output: Localizable.xcstrings with ~150 translated strings
</objective>

<execution_context>
@~/.claude/agents/gsd-executor.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/25-localization/25-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create String Catalog with Spanish localization</name>
  <files>W8Trackr/Localizable.xcstrings</files>
  <action>
Create Localizable.xcstrings String Catalog in the W8Trackr target:

1. Create new String Catalog file:
   - File format: Xcode String Catalog (.xcstrings)
   - Location: W8Trackr/Localizable.xcstrings (same level as W8TrackrApp.swift)
   - Source language: English (en)

2. Add Spanish localization:
   - Add "es" (Spanish) as target language
   - Do NOT use es-ES or es-MX regional variants (generic Spanish is more inclusive)

3. Add the String Catalog to the W8Trackr target (not W8TrackrWidget - that's Plan 02)

The .xcstrings file is JSON format. Create it with this structure:
```json
{
  "sourceLanguage" : "en",
  "strings" : {},
  "version" : "1.0"
}
```

4. Build the project to trigger automatic string extraction:
```bash
xcodebuild -project W8Trackr.xcodeproj -scheme W8Trackr -configuration Debug -sdk iphonesimulator build
```

After build, Xcode will populate the "strings" dictionary with all Text(), Button(), Label() string literals found in source files.
  </action>
  <verify>
- File W8Trackr/Localizable.xcstrings exists
- Build succeeds without errors
- String Catalog JSON contains "sourceLanguage": "en"
  </verify>
  <done>Localizable.xcstrings created with English source and Spanish target language</done>
</task>

<task type="auto">
  <name>Task 2: Translate all main app strings to Spanish</name>
  <files>W8Trackr/Localizable.xcstrings</files>
  <action>
After the build extracts strings, translate all ~150 strings to Spanish.

Key translation guidelines:
- Use formal "usted" form (not "tu") for user-facing text
- Keep app name "W8Trackr" untranslated (brand name)
- Weight units "lb" and "kg" stay as-is (international)
- Use Spanish date conventions (10 de enero, not enero 10)

Core UI translations (partial list - translate ALL extracted strings):

**Navigation/Tabs:**
- "Dashboard" -> "Panel"
- "Logbook" -> "Registro"
- "Settings" -> "Ajustes"

**Dashboard:**
- "Current Weight" -> "Peso Actual"
- "Goal Weight" -> "Peso Objetivo"
- "Progress" -> "Progreso"
- "Weight Trend" -> "Tendencia de Peso"
- "Goal Prediction" -> "Prediccion de Objetivo"
- "Goal Reached!" -> "Objetivo Alcanzado!"
- "Trending up" -> "Tendencia al alza"
- "Trending down" -> "Tendencia a la baja"
- "Holding steady" -> "Estable"

**Weight Entry:**
- "Add Weight" -> "Agregar Peso"
- "Edit Weight" -> "Editar Peso"
- "Weight" -> "Peso"
- "Date" -> "Fecha"
- "Notes" -> "Notas"
- "Save" -> "Guardar"
- "Cancel" -> "Cancelar"
- "Delete" -> "Eliminar"

**Settings:**
- "Weight Settings" -> "Ajustes de Peso"
- "Goal Weight" -> "Peso Objetivo"
- "Unit" -> "Unidad"
- "Reminders" -> "Recordatorios"
- "Daily Reminder" -> "Recordatorio Diario"
- "Reminder Time" -> "Hora del Recordatorio"
- "HealthKit" -> "HealthKit" (Apple term, keep as-is)
- "Export to Apple Health" -> "Exportar a Apple Salud"
- "Import from Apple Health" -> "Importar de Apple Salud"
- "Data" -> "Datos"
- "Export Data" -> "Exportar Datos"
- "Delete All Entries" -> "Eliminar Todas las Entradas"
- "About" -> "Acerca de"
- "iCloud Sync" -> "Sincronizacion iCloud"

**Onboarding:**
- "Welcome to W8Trackr" -> "Bienvenido a W8Trackr"
- "Track your weight journey" -> "Sigue tu progreso de peso"
- "Choose your preferred unit" -> "Elige tu unidad preferida"
- "Set your goal weight" -> "Establece tu peso objetivo"
- "Enter your current weight" -> "Ingresa tu peso actual"
- "Get Started" -> "Comenzar"
- "Continue" -> "Continuar"
- "Skip" -> "Omitir"

**Milestones:**
- "Milestone Reached!" -> "Hito Alcanzado!"
- "Congratulations!" -> "Felicidades!"
- "You've lost" -> "Has perdido"
- "Keep going!" -> "Sigue adelante!"

**Export:**
- "Export as CSV" -> "Exportar como CSV"
- "Export as JSON" -> "Exportar como JSON"
- "Share" -> "Compartir"

**Alerts/Confirmations:**
- "Are you sure?" -> "Esta seguro?"
- "This action cannot be undone." -> "Esta accion no se puede deshacer."
- "Delete All Entries" -> "Eliminar Todas las Entradas"

**Chart/Analytics:**
- "1W" -> "1S" (1 Semana)
- "1M" -> "1M" (1 Mes - same)
- "3M" -> "3M" (3 Meses - same)
- "6M" -> "6M" (6 Meses - same)
- "1Y" -> "1A" (1 Ano)
- "All" -> "Todo"
- "Weekly Summary" -> "Resumen Semanal"
- "Average" -> "Promedio"
- "Change" -> "Cambio"

**Empty States:**
- "No entries yet" -> "Sin entradas aun"
- "Add your first weight entry to get started" -> "Agrega tu primera entrada de peso para comenzar"

**Accessibility (these are extracted too):**
- Any accessibility labels in the code should also be translated

For strings with interpolation (e.g., "About %lld weeks away"):
- "About %lld weeks away" -> "Aproximadamente %lld semanas"
- "%lld days to go" -> "%lld dias restantes"
- Preserve the format specifiers exactly (%lld, %@, etc.)

Update the Localizable.xcstrings file with Spanish translations in the "localizations" object for each string key.
  </action>
  <verify>
Read Localizable.xcstrings and confirm:
- All string keys have "es" localization entries
- Translations are present (not empty strings)
- Format specifiers (%lld, %@) preserved in translations
  </verify>
  <done>All ~150 main app strings have Spanish translations in String Catalog</done>
</task>

</tasks>

<verification>
After both tasks complete:
1. Build succeeds: `xcodebuild -project W8Trackr.xcodeproj -scheme W8Trackr -configuration Debug -sdk iphonesimulator build`
2. Localizable.xcstrings contains English source and Spanish translations
3. String Catalog JSON is valid (no syntax errors)
</verification>

<success_criteria>
- Localizable.xcstrings file exists with sourceLanguage "en"
- Spanish ("es") localization added
- All extracted strings have Spanish translations
- Build completes without localization warnings
</success_criteria>

<output>
After completion, create `.planning/phases/25-localization/25-01-SUMMARY.md`
</output>
