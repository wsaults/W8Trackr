---
phase: 19-appstore-submission-prep
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - fastlane/metadata/en-US/keywords.txt
autonomous: false

must_haves:
  truths:
    - "Keywords use natural language phrases for 2026 AI search"
    - "Screenshots exist for 6.9-inch iPhone and 13-inch iPad"
    - "fastlane precheck passes with no errors"
    - "Age rating questionnaire is complete in App Store Connect"
  artifacts:
    - path: "fastlane/metadata/en-US/keywords.txt"
      provides: "Natural language keywords for ASO"
      contains: "weight tracking"
    - path: "fastlane/screenshots/en-US/iPhone 16 Pro Max"
      provides: "6.9-inch iPhone screenshots"
    - path: "fastlane/screenshots/en-US/iPad Pro 13-inch (M4)"
      provides: "13-inch iPad screenshots"
  key_links:
    - from: "fastlane/metadata/"
      to: "App Store Connect"
      via: "fastlane deliver"
      pattern: "deliver.*skip_metadata.*false"
---

<objective>
Finalize all App Store metadata and capture screenshots for submission.

Purpose: Complete the final phase of the pre-launch milestone, preparing all materials needed to submit W8Trackr to the App Store.
Output: Updated keywords, verified screenshots, validated metadata, and completed age rating questionnaire.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/19-appstore-submission-prep/19-RESEARCH.md
@fastlane/Fastfile
@fastlane/Snapfile
@fastlane/metadata/en-US/keywords.txt
@fastlane/metadata/en-US/description.txt
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update keywords for 2026 AI search</name>
  <files>fastlane/metadata/en-US/keywords.txt</files>
  <action>
Replace the current keyword-stuffing style keywords with natural language phrases optimized for 2026 AI-based App Store search.

Current (2020 style):
```
weight,tracker,health,fitness,scale,diet,body,fat,pounds,kilograms,trend,chart,log
```

Replace with (2026 natural language style - 100 chars max):
```
weight tracking,health journal,fitness progress,body measurements,diet log,scale tracker
```

Key changes:
- Natural language phrases instead of single keywords
- Phrases that match how users describe needs conversationally
- Removed redundant/weak terms (pounds, kilograms, chart - these are implicit)
- Under 100 character limit

Why: App Store search now uses NLP to understand conversational queries like "app to track my weight loss". Natural phrases rank better than comma-separated keywords in 2026.
  </action>
  <verify>
Read keywords.txt and confirm:
- Contains natural language phrases
- Under 100 characters total
- No keyword stuffing pattern
  </verify>
  <done>Keywords use natural language phrases optimized for 2026 AI search</done>
</task>

<task type="auto">
  <name>Task 2: Capture and verify App Store screenshots</name>
  <files>None (CLI operations only)</files>
  <action>
Run fastlane snapshot to capture screenshots, then verify all required device sizes have screenshots.

1. Run screenshot capture:
```bash
cd /Users/will/Projects/Saults/W8Trackr && fastlane screenshots
```

2. Verify screenshots exist for mandatory 2026 sizes:
```bash
ls -la fastlane/screenshots/en-US/iPhone\ 16\ Pro\ Max/
ls -la fastlane/screenshots/en-US/iPad\ Pro\ 13-inch\ \(M4\)/
```

3. Count screenshots per device (should have at least 3-6 per device for App Store):
```bash
find fastlane/screenshots/en-US -name "*.png" | wc -l
```

If screenshot capture fails:
- Check W8TrackrUITests target builds
- Verify simulator names match Snapfile devices
- Check ScreenshotTests.swift test methods exist

Note: Screenshots will show empty state or whatever data exists in simulator. This is acceptable for v1.0 - mock data can be added in a future iteration if needed.
  </action>
  <verify>
Confirm:
- fastlane screenshots command completes successfully
- PNG files exist in fastlane/screenshots/en-US/iPhone 16 Pro Max/
- PNG files exist in fastlane/screenshots/en-US/iPad Pro 13-inch (M4)/
  </verify>
  <done>Screenshots captured for all mandatory 2026 device sizes (6.9" iPhone, 13" iPad)</done>
</task>

<task type="auto">
  <name>Task 3: Run fastlane precheck validation</name>
  <files>None (CLI operations only)</files>
  <action>
Run fastlane precheck to validate all metadata before submission.

```bash
cd /Users/will/Projects/Saults/W8Trackr && fastlane precheck
```

Precheck validates:
- No placeholder content in metadata
- URLs are accessible (privacy_url, support_url)
- No profanity or banned words
- Character limits respected
- Required fields present

If precheck reports errors:
- Fix any placeholder content issues
- Verify privacy URL https://saults.com/w8trackr/privacy is accessible
- Address any character limit violations

If precheck reports warnings:
- Review but may proceed (document any skipped warnings)
  </action>
  <verify>
Confirm:
- fastlane precheck exits without errors
- Privacy URL is accessible (curl returns 200)
  </verify>
  <done>Metadata validated by fastlane precheck with no blocking errors</done>
</task>

<task type="checkpoint:human-action" gate="blocking">
  <name>Task 4: Complete age rating questionnaire in App Store Connect</name>
  <action>
Complete the updated age rating questionnaire in App Store Connect.

CRITICAL: This must be done by January 31, 2026 or app updates cannot be submitted.

Steps:
1. Log in to App Store Connect: https://appstoreconnect.apple.com
2. Select "W8Trackr" app
3. Go to "App Information" in the left sidebar
4. Find "Age Rating" section
5. Click "Edit" next to Age Rating
6. Complete the new questionnaire (added 13+, 16+, 18+ rating options in 2026)

For W8Trackr specifically, answer NO to:
- Cartoon or Fantasy Violence
- Realistic Violence
- Frequent/Intense Horror/Fear Themes
- Medical/Treatment Information (app tracks weight, does not provide medical advice)
- Profanity or Crude Humor
- Mature/Suggestive Themes
- Simulated Gambling
- Unrestricted Web Access
- Gambling with real currency
- Contest/Lottery
- Alcohol, Tobacco, Drug Use/References

Expected result: Age Rating 4+ (suitable for all ages)
  </action>
  <instructions>
1. Open https://appstoreconnect.apple.com in browser
2. Navigate to W8Trackr > App Information > Age Rating
3. Complete questionnaire answering NO to all mature content questions
4. Save changes
5. Confirm age rating shows as 4+
  </instructions>
  <resume-signal>Type "age rating complete" when questionnaire is saved</resume-signal>
</task>

</tasks>

<verification>
After all tasks complete:

1. Metadata ready:
   - [ ] keywords.txt contains natural language phrases
   - [ ] fastlane precheck passes

2. Screenshots ready:
   - [ ] iPhone 16 Pro Max screenshots exist
   - [ ] iPad Pro 13-inch (M4) screenshots exist

3. App Store Connect ready:
   - [ ] Age rating questionnaire complete
   - [ ] Age rating shows 4+
</verification>

<success_criteria>
Phase 19 is complete when:
1. Keywords updated for 2026 AI search (natural language phrases)
2. Screenshots captured for mandatory device sizes (6.9" iPhone, 13" iPad)
3. fastlane precheck passes with no errors
4. Age rating questionnaire completed in App Store Connect
5. App is ready for `fastlane submit` to request review
</success_criteria>

<output>
After completion, create `.planning/phases/19-appstore-submission-prep/19-01-SUMMARY.md`
</output>
